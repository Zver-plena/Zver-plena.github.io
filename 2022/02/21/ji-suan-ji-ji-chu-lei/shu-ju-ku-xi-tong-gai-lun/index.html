<!DOCTYPE HTML><html lang="en"><head><meta charset="utf-8"><meta name="keywords" content="数据库系统概论, Lambda"><meta name="description" content="Where there is a will , there is a way"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><style>body{background-image:url(/medias/images/4.jpg);background-repeat:no-repeat;background-size:100% 100%;background-attachment:fixed}</style><title>数据库系统概论 | Lambda</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" href="/libs/aos/aos.css"><link rel="stylesheet" href="/libs/animate/animate.min.css"><link rel="stylesheet" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="/css/matery.css"><link rel="stylesheet" href="/css/my.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><meta name="generator" content="Hexo 6.1.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style></head><style lang="css">#loading-container{position:fixed;top:0;left:0;min-height:100vh;width:100vw;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;text-align:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;-o-transition:opacity 1s ease;transition:opacity 1s ease}.loading-image{width:120px;height:50px;transform:translate(-50%)}.loading-image div:nth-child(2){-webkit-animation:pacman-balls 1s linear 0s infinite;animation:pacman-balls 1s linear 0s infinite}.loading-image div:nth-child(3){-webkit-animation:pacman-balls 1s linear .33s infinite;animation:pacman-balls 1s linear .33s infinite}.loading-image div:nth-child(4){-webkit-animation:pacman-balls 1s linear .66s infinite;animation:pacman-balls 1s linear .66s infinite}.loading-image div:nth-child(5){-webkit-animation:pacman-balls 1s linear .99s infinite;animation:pacman-balls 1s linear .99s infinite}.loading-image div:first-of-type{width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.loading-image div:nth-child(2){width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}@-webkit-keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@-webkit-keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}.loading-image div:nth-child(3),.loading-image div:nth-child(4),.loading-image div:nth-child(5),.loading-image div:nth-child(6){background-color:#49b1f5;width:15px;height:15px;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;transform:translateY(-6.25px);top:25px;left:100px}.loading-text{margin-bottom:20vh;text-align:center;color:#2c3e50;font-size:2rem;box-sizing:border-box;padding:0 10px;text-shadow:0 2px 10px rgba(0,0,0,.2)}@media only screen and (max-width:500px){.loading-text{font-size:1.5rem}}.fadeout{opacity:0}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0)}}</style><script>(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },2500); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()</script><body><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script src="/js/fireworks.js"></script><div id="loading-container"><p class="loading-text">祝你有个美好的一天</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">Lambda</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>Index</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/summary" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>Tags</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>Categories</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>Archives</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>About</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>Contact</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>Friends</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:.6"></i> <span>Medias</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/navigate"><i class="fas fa-location-arrow" style="margin-top:-20px;zoom:.6"></i> <span>Navigate</span></a></li><li><a href="/musics"><i class="fas fa-music" style="margin-top:-20px;zoom:.6"></i> <span>Musics</span></a></li><li><a href="/books"><i class="fas fa-book" style="margin-top:-20px;zoom:.6"></i> <span>Books</span></a></li><li><a href="/channel_four"><i class="fas fa-image" style="margin-top:-20px;zoom:.6"></i> <span>通道四号</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="Search" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">Lambda</div><div class="logo-desc">欢迎来到我的博客</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> Index</a></li><li class="m-nav-item"><a href="/summary" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> Tags</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> Categories</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> Archives</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> About</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> Contact</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> Friends</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-list"></i> Medias<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/navigate" style="margin-left:75px"><i class="fa fas fa-location-arrow" style="position:absolute;left:50px"></i> <span>Navigate</span></a></li><li><a href="/musics" style="margin-left:75px"><i class="fa fas fa-music" style="position:absolute;left:50px"></i> <span>Musics</span></a></li><li><a href="/books" style="margin-left:75px"><i class="fa fas fa-book" style="position:absolute;left:50px"></i> <span>Books</span></a></li><li><a href="/channel_four" style="margin-left:75px"><i class="fa fas fa-image" style="position:absolute;left:50px"></i> <span>通道四号</span></a></li></ul></li><li><div class="divider"></div></li><li><a href="" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/1.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">数据库系统概论</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px;background-color:rgb(255,255,255,.8);border-radius:10px;box-shadow:0 10px 35px 2px rgba(0,0,0,.15),0 5px 15px rgba(0,0,0,.07),0 2px 5px -5px rgba(0,0,0,.1)!important}.toc-widget .toc-title{padding:35px 10px 15px 17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{font-size:16px;color:#000;font-weight:body;margin-top:10px;padding-bottom:50px;overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#850000;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#003ada}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><span class="chip bg-color">No tag</span></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/course/" class="post-category">course</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> Publish Date:&nbsp;&nbsp; 2022-02-21</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i> Update Date:&nbsp;&nbsp; 2022-05-09</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> Word Count:&nbsp;&nbsp; 8.8k</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i> Read Count:&nbsp;&nbsp;<span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><link rel="stylesheet" href="/libs/prism/prism.css"><div class="card-content article-card-content"><div id="articleContent"><hr><h1 id="基础篇"><a href="#基础篇" class="headerlink" title="基础篇"></a>基础篇</h1><h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><h3 id="数据库系统论述"><a href="#数据库系统论述" class="headerlink" title="数据库系统论述"></a>数据库系统论述</h3><h4 id="数据库的4个基本概念"><a href="#数据库的4个基本概念" class="headerlink" title="数据库的4个基本概念"></a>数据库的4个基本概念</h4><h5 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h5><ul><li><p>描述事物的符号记录称为数据</p></li><li><p>数据的含义称为数据的语义，数据与语义是不可分的</p></li></ul><h5 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h5><ul><li>数据库是长期存储在计算机，有组织，可共享的大量数据的集合。</li><li>数据库中的数据具有一定的数据模型组织，描述和存储，具有较小的redundancy，较高的data independency和scalability，可以为各种用户共享</li></ul><h5 id="数据库管理系统-DataBase-Management-System-DBMS"><a href="#数据库管理系统-DataBase-Management-System-DBMS" class="headerlink" title="数据库管理系统(DataBase Management System DBMS)"></a>数据库管理系统(DataBase Management System DBMS)</h5><p><strong>数据库管理系统</strong>是位于用户与操作系统之间的一层数据管理软件，数据库管理系统和操作系统一样是计算机的基础软件</p><ul><li>主要功能包含如下<ul><li>数据定义功能</li><li>数据组织，存储和管理</li><li>数据操纵功能</li><li>数据库的事务管理和运行管理</li><li>数据库的建立和维护功能</li><li>其他功能<ul><li>数据库管理系统与网络中其他软件系统的通信功能</li></ul></li></ul></li></ul><h5 id="数据库系统"><a href="#数据库系统" class="headerlink" title="数据库系统"></a>数据库系统</h5><p>数据库系统是由<code>数据库</code>,<code>数据库管理系统</code>,<code>应用程序</code>和<code>数据库管理员(DataBase Administrator)</code>组成的存储，管理，处理和维护数据的系统</p><h4 id="数据库系统的特点"><a href="#数据库系统的特点" class="headerlink" title="数据库系统的特点"></a>数据库系统的特点</h4><h5 id="数据结构化"><a href="#数据结构化" class="headerlink" title="数据结构化"></a>数据结构化</h5><ul><li>数据库系统实现整体数据的结构化，这是数据库的主要特征之一，也是<code>数据库系统与文件系统的本质区别</code></li></ul><h5 id="数据的共享性高，redundancy且易扩充"><a href="#数据的共享性高，redundancy且易扩充" class="headerlink" title="数据的共享性高，redundancy且易扩充"></a>数据的共享性高，redundancy且易扩充</h5><ul><li>数据共享可以大大减少数据数据沉余，节约存储空间,数据共享还能够别面数据之间的不相容性与不一致性</li><li>数据面向整个系统，是有结构的数据，不仅可以被多个应用共享使用，而且容易添加应用，这就使得数据库系统弹性大，易于扩充</li></ul><h5 id="数据独立性高"><a href="#数据独立性高" class="headerlink" title="数据独立性高"></a>数据独立性高</h5><ul><li><p><strong>数据独立性</strong>是指借助数据库管理数据的一个显著优点，数据的独立性由数据库管理系统提供的二级映像功能来保证</p></li><li><p><strong>物理独立性</strong>是指用户的应用程序与数据库中数据的物理存储是相互独立的</p></li><li><p><strong>逻辑独立性</strong>是指用户的应用程序与数据库的逻辑结构相互独立</p></li></ul><h5 id="数据由数据库管理系统统一管理和控制"><a href="#数据由数据库管理系统统一管理和控制" class="headerlink" title="数据由数据库管理系统统一管理和控制"></a>数据由数据库管理系统统一管理和控制</h5><p>数据库管理系统需要提供以下数据控制功能</p><ul><li><p><strong>数据的安全性保护</strong>是指保护数据以防止不合法使用造成的数据泄密和破坏</p></li><li><p><strong>数据的完整性</strong>是指数据正确性，有效性和相容性。完整性检查将数据控制在有效的范围之内，并保证数据在满足一定的关系</p></li><li><p><strong>并发控制</strong></p></li><li><p><strong>数据库恢复</strong></p></li></ul><h3 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h3><ul><li>数据模型是一种模型，是对现实世界数据特征的抽象</li><li><strong>数据模型是数据库系统的核心和基础</strong></li></ul><h4 id="两类数据模型"><a href="#两类数据模型" class="headerlink" title="两类数据模型"></a>两类数据模型</h4><h5 id="第一类"><a href="#第一类" class="headerlink" title="第一类"></a>第一类</h5><p>概念模型</p><ul><li>信息模型，按照用户的观点来对数据和信息建模，主要用于数据库设计</li></ul><h5 id="第二类"><a href="#第二类" class="headerlink" title="第二类"></a>第二类</h5><p>逻辑模型</p><ul><li><p>逻辑模型的主要的三个模型</p><ul><li><p>层次模型</p></li><li><p>网状模型</p></li><li><p>关系模型</p></li></ul></li><li><p>按照计算机系统的观点对数据建模，主要用于数据库管理系统的实现</p></li></ul><p>物理模型</p><ul><li>物理模型是对数据最底层的抽象</li><li>描述数据在系统内部的表示方式和存取方式，或在磁盘上的存储方式</li></ul><p><strong>将现实世界抽象为信息世界，然后将信息世界转换为机器世界，从逻辑模型到物理模型的转换一般是由DBMS完成的</strong></p><h4 id="概念模型"><a href="#概念模型" class="headerlink" title="概念模型"></a>概念模型</h4><h5 id="信息世界中的基本概念"><a href="#信息世界中的基本概念" class="headerlink" title="信息世界中的基本概念"></a>信息世界中的基本概念</h5><ul><li><p><strong>实体</strong></p><ul><li>客观存在并可相互区分的事务称为<strong>实体</strong></li></ul></li><li><p><strong>属性</strong></p><ul><li>实体所具有的某一特性称为<strong>属性</strong></li></ul></li><li><p><strong>key</strong></p><ul><li>唯一标识实体的属性称为<strong>key</strong></li></ul></li><li><p><strong>实体型</strong></p><ul><li>用实体名及其属性名集合来抽象和刻画同类实体，称为<strong>实体型</strong></li></ul></li><li><p><strong>实体集</strong></p><ul><li>同一类型实体的集合称为<strong>实体集</strong></li></ul></li><li><h5 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h5><ul><li>实体之间的联系通常是指不同实体集之间的联系</li></ul></li></ul><h5 id="概念模型的一种表示方式：实体-联系方法"><a href="#概念模型的一种表示方式：实体-联系方法" class="headerlink" title="概念模型的一种表示方式：实体-联系方法"></a>概念模型的一种表示方式：实体-联系方法</h5><p>P.P.S.Chen于1976年提出的实体-联系方法（Entity-Relationship approach）该方法用E-R图来描述显示世界的概念模型</p><h4 id="数据模型的组成要素"><a href="#数据模型的组成要素" class="headerlink" title="数据模型的组成要素"></a>数据模型的组成要素</h4><p><strong>数据模型通常由数据结构，数据操作和数据的完整性约束条件三部分组成</strong></p><h5 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h5><p>数据结构描述数据库的组成对象以及对象之间的关系</p><h5 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h5><p>数据操作是指对数据库中各种对象的实例允许执行的操作的集合，包括操作及有关的操作规则</p><h5 id="数据的完整性约束条件"><a href="#数据的完整性约束条件" class="headerlink" title="数据的完整性约束条件"></a>数据的完整性约束条件</h5><p>数据的完整性约束条件是一组完整性规则</p><h4 id="层次模型"><a href="#层次模型" class="headerlink" title="层次模型"></a>层次模型</h4><h5 id="层次模型的数据结构"><a href="#层次模型的数据结构" class="headerlink" title="层次模型的数据结构"></a>层次模型的数据结构</h5><p>在数据库中定义满足下面两个条件的基本层次联系的集合为层次模型：</p><ul><li>有且只有一个节点没有父节点，这个结点称为根节点</li><li>根以外的其他节点有且只有一个父节点</li></ul><h5 id="层次模型的数据操作和完整性约束"><a href="#层次模型的数据操作和完整性约束" class="headerlink" title="层次模型的数据操作和完整性约束"></a>层次模型的数据操作和完整性约束</h5><p>数据操作</p><ul><li>数据操纵主要有查询，插入，删除和更新</li></ul><p>完整性约束条件</p><ul><li>插入操作时，如果没有相应的双亲结点值就不能插入他的子女结点</li><li>删除操作时，如果删除父节点，那么相应的子女结点值将同时删除</li></ul><h5 id="层次模型的优缺点"><a href="#层次模型的优缺点" class="headerlink" title="层次模型的优缺点"></a>层次模型的优缺点</h5><p>优点</p><ul><li>层次模型的数据结构比较简单清晰</li><li>层次数据库的性能优于关系数据库，不低于网状数据库</li></ul><p>缺点</p><ul><li>无法很好表现出现实世界的非层次性的联系</li><li>查询子女节点必须通过双亲节点</li><li>结构严密，层次命令程序化</li></ul><h4 id="网状模型"><a href="#网状模型" class="headerlink" title="网状模型"></a>网状模型</h4><p>网状数据模型的典型代表是DBTG系统，也称CODASYL系统</p><h5 id="网状模型的数据结构"><a href="#网状模型的数据结构" class="headerlink" title="网状模型的数据结构"></a>网状模型的数据结构</h5><p>数据库中，把满足以下两个条件的基本层次联系集合称为网状模型</p><ul><li>允许一个以上的结点无父节点</li><li>一个结点可以有多于一个的父节点</li></ul><h5 id="网状模型的数据操作和完整性约束"><a href="#网状模型的数据操作和完整性约束" class="headerlink" title="网状模型的数据操作和完整性约束"></a>网状模型的数据操作和完整性约束</h5><p>完整性约束</p><ul><li>支持记录码的概念，key即唯一表示记录的数据项的集合</li><li>保证一个联系中父元组和子女元组之间是一对多的联系</li></ul><h5 id="网状模型的优缺点"><a href="#网状模型的优缺点" class="headerlink" title="网状模型的优缺点"></a>网状模型的优缺点</h5><p>优点</p><ul><li>直观的描述现实世界</li><li>具有良好的性能，查找效率高</li></ul><p>缺点</p><ul><li>结构复杂</li><li>网状模型的DDL,DML复杂</li><li>元组之间通过存取路径实现，用户在访问数据时必须选择适当的路径。因此用户必须了解系统结构的细节。—不够简单</li></ul><h4 id="关系模型"><a href="#关系模型" class="headerlink" title="关系模型"></a>关系模型</h4><h5 id="关系模型的数据结构"><a href="#关系模型的数据结构" class="headerlink" title="关系模型的数据结构"></a>关系模型的数据结构</h5><p>关系模型建立在严格的数学概念的基础上</p><ul><li><p>一些关系模型的术语</p><ul><li><p>关系：表</p></li><li><p>元组：表行</p></li><li><p>属性：表列</p></li><li><p>码（key）：表中的每个属性组</p></li><li><p>域（domain）：域是一组具有相同数据类型的值的集合</p></li><li><p>分量 ：元组中的一个属性值</p></li></ul></li><li><p>关系模型要求关系必须是规范的</p></li><li><p>关系的每一个分量是一个不可分的数据项</p></li><li><p><strong>不可以存在表中套表</strong></p></li></ul><h5 id="关系模型的数据操作与完整性约束"><a href="#关系模型的数据操作与完整性约束" class="headerlink" title="关系模型的数据操作与完整性约束"></a>关系模型的数据操作与完整性约束</h5><p>完整性约束包括三大类：实体完整性，参照完整性，用户定义完整性</p><h5 id="关系模型的优缺点"><a href="#关系模型的优缺点" class="headerlink" title="关系模型的优缺点"></a>关系模型的优缺点</h5><p>优点</p><ul><li>建立在严格的数学概念的基础上</li><li>关系模型的概念单一，无论实体还是实体之间的联系都是关系表示，对数据的检索和更新结果都是关系，所以数据结构简单，清晰，用户易懂</li><li>关系模型的存取路径对用户透明，从而具有更高的数据独立性，更好的安全保密，简化工作</li></ul><p>缺点</p><ul><li>存储路径对用户隐蔽，查询效率不如格式化数据模型</li><li>为了提高性能，数据库管理系统必须对用户的查询请求进行优化，增加开发难度，不过用户不必考虑内部的技术细节</li></ul><h3 id="数据库系统的结构"><a href="#数据库系统的结构" class="headerlink" title="数据库系统的结构"></a>数据库系统的结构</h3><h4 id="数据库系统模式的概念"><a href="#数据库系统模式的概念" class="headerlink" title="数据库系统模式的概念"></a>数据库系统模式的概念</h4><p>数据模型中有<code>type</code>和<code>value</code>的概念</p><ul><li><p><code>type</code> : 指对某一数据的结构和属性的说明</p></li><li><p><code>value</code>:型的具体赋值</p></li><li><p><strong>模式</strong>是数据库中全体数据的逻辑结构和特征描述，仅仅涉及<code>type</code>的描述</p></li><li><p>模式的一个具体值称为<strong>实例</strong>，一个模式可以有很多实例</p></li></ul><p><strong>模式是相对稳定的，实例是相对变动的</strong></p><h4 id="数据库系统的三级模式结构"><a href="#数据库系统的三级模式结构" class="headerlink" title="数据库系统的三级模式结构"></a>数据库系统的三级模式结构</h4><p>数据库系统的三级模式结构是指数据库系统由<code>外模式</code>，<code>模式</code>和<code>内模式</code>三部分组成</p><h5 id="模式（schema）"><a href="#模式（schema）" class="headerlink" title="模式（schema）"></a>模式（schema）</h5><p><strong>模式</strong>是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据图</p><ul><li><p>模式实际上是数据库数据在逻辑级上的视图，一个数据库只有一个模式</p></li><li><p>数据库管理系统提供 模式数据定义语言（模式DDL）来严格定义模式</p></li></ul><h5 id="外模式（external-schema）"><a href="#外模式（external-schema）" class="headerlink" title="外模式（external schema）"></a>外模式（external schema）</h5><ul><li><p>外模式是子模式</p></li><li><p>他是数据库用户能够看见和使用的局部的逻辑结构和特征描述</p></li><li><p>是用户的数据视图</p></li><li><p>是与某一个应用有关的数据的逻辑表示。</p></li><li><p>数据库管理系统提供外模式数据定义语言（外模式DDL）来严格定义模式</p></li></ul><h5 id="内模式（internal-schema）"><a href="#内模式（internal-schema）" class="headerlink" title="内模式（internal schema）"></a>内模式（internal schema）</h5><ul><li>一个数据库只有一个内模式</li><li>内模式是数据物理结构和存储方式的描述</li><li>内模式是数据在数据库内部的组织方式</li></ul><h5 id="数据库系统的三级模式结构的作用"><a href="#数据库系统的三级模式结构的作用" class="headerlink" title="数据库系统的三级模式结构的作用"></a>数据库系统的三级模式结构的作用</h5><p>数据库系统的三级模式是数据的三个抽象级别,他把数据的具体组织留给数据库管理系统使得用户能逻辑地，抽象地处理数据，而不必关心数据在计算机中的具体表示方式和存储方式</p><h4 id="数据库的二级映像与数据独立性"><a href="#数据库的二级映像与数据独立性" class="headerlink" title="数据库的二级映像与数据独立性"></a>数据库的二级映像与数据独立性</h4><p>为了能够在系统内部实现这三个抽象层次的联系和转换，数据库管理系统在这三级模式之间提供的两层映像：<code>外模式/模式映像</code>和<code>模式/内模式映像</code></p><ul><li><p>两层映像的作用</p><ul><li>这两层映像保证了数据库系统中的数据能够具有较高的<strong>逻辑独立性</strong>和<strong>物理独立性</strong></li></ul></li><li><p>外模式/模式映像</p><ul><li>模式改变时，由数据库管理员对各个 外模式/模式映像 做出相应改变，使外模式保持不变，因为应用程序是根据外模式编写的，从而应用程序不用改变，保证了数据与程序的逻辑独立性—<code>数据的逻辑独立性</code></li></ul></li><li><p>模式/内模式映像</p><ul><li>模式/内模式映像是唯一的，他定义了数据全局逻辑结构与存储结构之间的关系</li><li>当内模式改变时，对各个 模式/内模式映像 做出相应改变，使模式不变，从而应用程序不用改变，保证了数据和程序的物理独立性—<code>数据的物理独立性</code></li></ul></li></ul><h3 id="数据库系统的组成"><a href="#数据库系统的组成" class="headerlink" title="数据库系统的组成"></a>数据库系统的组成</h3><h4 id="硬件平台及数据库"><a href="#硬件平台及数据库" class="headerlink" title="硬件平台及数据库"></a>硬件平台及数据库</h4><ul><li>足够大的内存，存放操作系统，数据库管理系统的核心模块，数据缓冲区和应用程序</li><li>足够大的磁盘存放数据库或备份</li><li>要求系统具有较高的通道能力，提高数据传送率</li></ul><h4 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h4><ul><li>数据库管理系统</li><li>操作系统</li><li>具有与数据库结构的高级及其编译系统</li></ul><h4 id="人员"><a href="#人员" class="headerlink" title="人员"></a>人员</h4><ul><li><p>数据库管理员（DataBase Administrator ，DBA）</p><ul><li><strong>负责全面的管理和控制数据库系统，职责如下</strong><ul><li>决定数据库的信息内容和结构</li><li>决定数据库的存储结构和策略</li><li>定义数据安全性要求和完整性约束</li><li>监控数据库的运行和使用</li><li>数据库的改进，重组和重构</li></ul></li></ul></li><li><p>系统分析员和数据库设计员</p></li><li><p>应用程序员</p></li><li><p>用户</p></li></ul><h2 id="关系数据库"><a href="#关系数据库" class="headerlink" title="关系数据库"></a>关系数据库</h2><p>系统严格来说提出关系模型的是美国IBM公司的E.F.Codd</p><p>关系模型由<code>关系数据结构</code>，<code>关系操作集合</code>和<code>关系完整性</code>三个部分组成</p><h3 id="关系数据结构及形式化定义"><a href="#关系数据结构及形式化定义" class="headerlink" title="关系数据结构及形式化定义"></a>关系数据结构及形式化定义</h3><h4 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h4><h5 id="域"><a href="#域" class="headerlink" title="域"></a>域</h5><ul><li>定义<ul><li>域是一组具有相同数据类型的值的集合</li></ul></li></ul><h5 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h5><p>给定一组域$D_1,D_2···,D_n,$允许其中的某些域是相同的，那么笛卡尔积为</p><p>$D_1\cdot D_2·D_2····D_n=[(d_1,d_2,···，d_n)｜d_i \in D_i,i=1,2,···n]$</p><p>其中每一个元素$(d_1,d_2,···，d_n)$叫做一个n元组（n-tuple）或简称元组（tuple），元素中的每一个值$d_i$叫做一个分量</p><ul><li>一个域允许的不同取值个数称为这个域的基数</li></ul><h5 id="关系-1"><a href="#关系-1" class="headerlink" title="关系"></a>关系</h5><ul><li>某一属性组的值能唯一的标识一个元组，而其子集不能，那么就称这个属性组为<code>候选码（candidate key）</code></li><li>如果一个关系中存在多个候选码，那么选定其中一个作为<code>主码</code></li></ul><p>基本关系存在以下6条性质</p><ul><li>一列是同域的</li><li>不同列可以有相同的域</li><li>列的顺序无所谓</li><li>行的顺序无所谓</li><li>任意两个元组的候选码不能取相同值</li><li>每一个分量必须是不可以分割的数据项</li></ul><p>关系模型要求必须是规范化的</p><ul><li><p>最基本的一条就是关系的每一个分量必须是一个不可分的数据项</p></li><li><p><strong>规范化的关系简称为范式</strong></p></li></ul><h4 id="关系模式"><a href="#关系模式" class="headerlink" title="关系模式"></a>关系模式</h4><p>关系的描述称为关系模式（relation schema）</p><p>可以表示为R（U,D,DOM,F）</p><ul><li>R为关系名</li><li>U为组成该关系的属性名集合</li><li>D为U中属性所来自的域</li><li>DOM为属性向域的映像集合</li><li>F为属性间数据的依赖关系集合</li></ul><p>关系是元组的集合</p><h4 id="关系数据库-1"><a href="#关系数据库-1" class="headerlink" title="关系数据库"></a>关系数据库</h4><p>关系模型中，实体以及实体之间的联系都是用关系标识，关系是元组的集合，而所有关系的集合构成一个关系数据库</p><ul><li>关系数据库也有<code>type</code>和<code>value</code>之分<ul><li>关系数据库的<code>type</code>称为关系数据库模式，是对关系数据库的描述</li><li>关系数据库的<code>value</code>是这些关系模式在某一时刻对应的关系集合</li></ul></li></ul><h3 id="关系操作"><a href="#关系操作" class="headerlink" title="关系操作"></a>关系操作</h3><h4 id="基本的关系操作"><a href="#基本的关系操作" class="headerlink" title="基本的关系操作"></a>基本的关系操作</h4><h5 id="查询操作"><a href="#查询操作" class="headerlink" title="查询操作"></a>查询操作</h5><p>关系的查询表达能力很强</p><p>查询操作可以分为</p><ul><li>选择（select）</li><li>投影（project）</li><li></li></ul><h5 id="插入操作"><a href="#插入操作" class="headerlink" title="插入操作"></a>插入操作</h5><h5 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h5><h5 id="修改操作"><a href="#修改操作" class="headerlink" title="修改操作"></a>修改操作</h5><h3 id="关系的完整性"><a href="#关系的完整性" class="headerlink" title="关系的完整性"></a>关系的完整性</h3><h2 id="关系数据库标准语言SQL"><a href="#关系数据库标准语言SQL" class="headerlink" title="关系数据库标准语言SQL"></a>关系数据库标准语言SQL</h2><h3 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h3><h4 id="SQL（Structured-Query-Language-特点"><a href="#SQL（Structured-Query-Language-特点" class="headerlink" title="SQL（Structured Query Language)特点"></a>SQL（Structured Query Language)特点</h4><h5 id="综合统一"><a href="#综合统一" class="headerlink" title="综合统一"></a>综合统一</h5><h5 id="高度非过程化"><a href="#高度非过程化" class="headerlink" title="高度非过程化"></a>高度非过程化</h5><h5 id="面向集合的操作"><a href="#面向集合的操作" class="headerlink" title="面向集合的操作"></a>面向集合的操作</h5><h5 id="同一语法结构提供多种使用方式"><a href="#同一语法结构提供多种使用方式" class="headerlink" title="同一语法结构提供多种使用方式"></a>同一语法结构提供多种使用方式</h5><h5 id="语言简洁，容易学习"><a href="#语言简洁，容易学习" class="headerlink" title="语言简洁，容易学习"></a>语言简洁，容易学习</h5><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><h2 id="数据库安全性"><a href="#数据库安全性" class="headerlink" title="数据库安全性"></a>数据库安全性</h2><h3 id="数据库安全性概述"><a href="#数据库安全性概述" class="headerlink" title="数据库安全性概述"></a>数据库安全性概述</h3><h4 id="数据的安全性"><a href="#数据的安全性" class="headerlink" title="数据的安全性"></a>数据的安全性</h4><ul><li><p><strong>数据库的安全性</strong>是指保护数据库以防止不合法使用造成的数据泄漏，更改或破坏</p></li><li><p>系统安全保护措施是否有效是数据库系统的主要技术指标之一</p></li></ul><h4 id="数据库的不安全因素"><a href="#数据库的不安全因素" class="headerlink" title="数据库的不安全因素"></a>数据库的不安全因素</h4><ul><li>非授权用户对数据库的恶意存储和破坏</li><li>数据库中重要或敏感的数据泄漏</li><li>安全环境的脆弱性</li></ul><h4 id="安全标准简介"><a href="#安全标准简介" class="headerlink" title="安全标准简介"></a>安全标准简介</h4><h5 id="安全级性级别划分"><a href="#安全级性级别划分" class="headerlink" title="安全级性级别划分"></a>安全级性级别划分</h5><ul><li>安全策略</li><li>安全责任</li><li>安全保证</li><li>安全文档</li></ul><h5 id="TCSEC-x2F-TDI（Trusted-Computer-System-Evalution-Criteria-x2F-Trusted-Database-Interpretation）安全级别划分"><a href="#TCSEC-x2F-TDI（Trusted-Computer-System-Evalution-Criteria-x2F-Trusted-Database-Interpretation）安全级别划分" class="headerlink" title="TCSEC/TDI（Trusted Computer System Evalution Criteria/Trusted Database Interpretation）安全级别划分"></a>TCSEC/TDI（Trusted Computer System Evalution Criteria/Trusted Database Interpretation）安全级别划分</h5><table><thead><tr><th align="center">安全级别</th><th align="center">定义</th><th align="center"></th></tr></thead><tbody><tr><td align="center">A1</td><td align="center">验证设计（verified design）</td><td align="center"></td></tr><tr><td align="center">B3</td><td align="center">安全域（security domains）</td><td align="center"></td></tr><tr><td align="center">B2</td><td align="center">结构化保护（structural protection）</td><td align="center"></td></tr><tr><td align="center"><strong>B1</strong></td><td align="center"><strong>标记安全保护（labeled security protection）</strong></td><td align="center"></td></tr><tr><td align="center">C2</td><td align="center">受控的存取保护（controlled access protection）</td><td align="center"></td></tr><tr><td align="center"><strong>C1</strong></td><td align="center"><strong>自主安全保护（discretionary security protection）</strong></td><td align="center"></td></tr><tr><td align="center">D</td><td align="center">最小保护（minimal protection）</td><td align="center"></td></tr></tbody></table><h5 id="CC-（Common-Criteria）评估保证级（Evaluation-Assurance-Level）"><a href="#CC-（Common-Criteria）评估保证级（Evaluation-Assurance-Level）" class="headerlink" title="CC （Common Criteria）评估保证级（Evaluation Assurance Level）"></a>CC （Common Criteria）评估保证级（Evaluation Assurance Level）</h5><p>目前CC已经基本取代了TCSEC，CC是在上述各评估准则及具体实践的基础相互总结和发展而来</p><table><thead><tr><th align="center">评估保证级（Evaluation Assurance Level）</th><th>定义</th><th align="center">TCSEC安全级别（近似相当）</th></tr></thead><tbody><tr><td align="center">EAL1</td><td>功能测试（functionally tested）</td><td align="center"></td></tr><tr><td align="center"><strong>EAL2</strong></td><td><strong>结构测试（structurally tested）</strong></td><td align="center">C1</td></tr><tr><td align="center"><strong>EAL3</strong></td><td><strong>系统测试和检查（methodically tested and checked）</strong></td><td align="center">C2</td></tr><tr><td align="center">EAL4</td><td>系统设计，测试和复查（methodically designed，tested ，and reviewed）</td><td align="center">B1</td></tr><tr><td align="center">EAL5</td><td>半形式化设计和测试（semiformally disigned and tested）</td><td align="center">B2</td></tr><tr><td align="center">EAL6</td><td>半形式化验证的设计和测试（semiformally verified designed and tested）</td><td align="center">B3</td></tr><tr><td align="center"><strong>EAL7</strong></td><td><strong>形式化验证的设计和测试（formally verified design and tested）</strong></td><td align="center">A1</td></tr></tbody></table><h3 id="数据库安全性控制"><a href="#数据库安全性控制" class="headerlink" title="数据库安全性控制"></a>数据库安全性控制</h3><h4 id="用户身份鉴别"><a href="#用户身份鉴别" class="headerlink" title="用户身份鉴别"></a>用户身份鉴别</h4><ul><li>用户身份鉴别是数据库管理系统提供的最外层安全保护措施</li><li>常见的例如如下<ul><li>静态口令鉴别</li><li>动态口令鉴别</li><li>生物特征鉴别</li><li>智能卡鉴别</li></ul></li></ul><h4 id="存取控制"><a href="#存取控制" class="headerlink" title="存取控制"></a>存取控制</h4><p>存取控制机制主要包括定义<strong>用户权限</strong>和<strong>合法权限</strong>检查两个部分</p><h5 id="定义用户权限"><a href="#定义用户权限" class="headerlink" title="定义用户权限"></a>定义用户权限</h5><p>数据库管理系统提供适当的语言来定义用户权限，这些定义经过编译后存储在数据字典里面，被称作<em>安全规则</em>或<em>授权规则</em></p><ul><li>权限：用户对某一数据对象的操作权利</li></ul><h5 id="合法权限检查"><a href="#合法权限检查" class="headerlink" title="合法权限检查"></a>合法权限检查</h5><p>用户发出对数据库的操作请求后，数据库管理系统会查找数据字典，根据安全规则进行合法权限检查若用户的操作请求超出了定义的权限</p><p>系统将拒绝执行此操作</p><h4 id="自主存取控制"><a href="#自主存取控制" class="headerlink" title="自主存取控制"></a>自主存取控制</h4><p>SQL标准对自主存取控制提供支持，主要通过SQl的<strong>GRANT</strong>语句和<strong>REVOKE</strong>语句实现</p><p>用户权限由两个要素组成：数据库对象和操作类型</p><ul><li>授权：定义存储权限</li></ul><h4 id="授权：授予与收回"><a href="#授权：授予与收回" class="headerlink" title="授权：授予与收回"></a>授权：授予与收回</h4><h5 id="GRANT语句"><a href="#GRANT语句" class="headerlink" title="GRANT语句"></a>GRANT语句</h5><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">Grant &lt;权限&gt;[,&lt;权限&gt;]
on &lt;对象类型&gt; &lt;对象名&gt;,[&lt;对象类型&gt; &lt;对象名&gt;]
to &lt;用户&gt;,[&lt;用户&gt;]
[WITH GRANT OPTION]; -- 如果知道你指定 with grant option子句,那么获得权限的用户可以把这个权限赋予给其他用户
					-- 否则，获得权限的用户只有使用权限而没有传播权限

grant select 
on table `student`
to `USER_01`；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="REMOVE"><a href="#REMOVE" class="headerlink" title="REMOVE"></a>REMOVE</h5><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">REVOKE &lt;权限&gt;,[&lt;权限&gt;]
on &lt;对象类型&gt; &lt;对象名&gt;,[&lt;对象类型&gt; &lt;对象名&gt;]
from &lt;用户&gt;,[&lt;用户&gt;]
[cascade][restrict]
-- cascade（级联）：收回该用户该权限的时候同时收回该用户传播出去的该权限
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="创建数据库模式的权限"><a href="#创建数据库模式的权限" class="headerlink" title="创建数据库模式的权限"></a>创建数据库模式的权限</h5><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create user&lt;username&gt; [with][dba][resource][connect];

/*
	新创建的数据库用户有三种权限 
		1.connect： 需要有权限才能进行操作
		2.resource ： 能创建基本表和视图，不可以创建新的用户
		3.dba : 超级用户 
	注意：
		create user语句不是sql标准，不同的数据库管理系统具体看
*/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>权限与可执行的操作对照表</strong></p><table><thead><tr><th>拥有的权限</th><th>create user</th><th>create schema</th><th>create table</th><th>登陆数据库，执行数据库操作</th></tr></thead><tbody><tr><td>DBA</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td></tr><tr><td>resource</td><td>no</td><td>no</td><td>yes</td><td>yes</td></tr><tr><td>connect</td><td>no</td><td>no</td><td>no</td><td>可以但需要被给予权限</td></tr></tbody></table><h4 id="数据库角色"><a href="#数据库角色" class="headerlink" title="数据库角色"></a>数据库角色</h4><h5 id="数据库角色的定义"><a href="#数据库角色的定义" class="headerlink" title="数据库角色的定义"></a>数据库角色的定义</h5><ul><li>数据库角色是被命名的一组与数据库操作相关的权限，角色是权限的集合</li></ul><h5 id="sql语句上对角色的操作"><a href="#sql语句上对角色的操作" class="headerlink" title="sql语句上对角色的操作"></a>sql语句上对角色的操作</h5><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">```



#### 强制存取控制

### 视图机制

视图机制间接的实现支持存取谓词的用户权限定义

```mysql
-- 创建视图
create view cs_student as select * from student where Sdept='CS';
grant select on cs_student to  '老师'; 
grant select all privileges on cs_student to '主任';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="审计"><a href="#审计" class="headerlink" title="审计"></a>审计</h3><p><strong>审计功能</strong>是把用户对数据库的所有操作自动记录下来放入审计日志，审计员可以利用审计日志监控数据库中的各种行为，重现导致数据库现有状态的一系列事件，找出非法存取数据的人，时间和内容等</p><h4 id="审计事件"><a href="#审计事件" class="headerlink" title="审计事件"></a>审计事件</h4><ul><li>服务器时间</li><li>系统权限</li><li>语句事件</li><li>模式对象事件</li></ul><h4 id="审计功能"><a href="#审计功能" class="headerlink" title="审计功能"></a>审计功能</h4><ul><li>基本功能</li><li>提供多套审计规则</li><li>提供审计分析和报表功能</li><li>审计日志管理功能，包括纺织审计员误删操作</li><li>系统提供查询审计设置及审计记录信息的专门视图</li></ul><h4 id="audit语句和noaudit语句"><a href="#audit语句和noaudit语句" class="headerlink" title="audit语句和noaudit语句"></a>audit语句和noaudit语句</h4><ul><li>audit语句用来设置审计功能,noaudit语句用来取消审计功能</li><li>审计一般分为用户级审计和系统级审计<ul><li>用户级审计就是任何用户可设置的审计，主要是用户针对自己创建的数据库表或者视图进行审计</li><li>系统级审计只能又数据库管理员设置，用来检测成功或失败的登陆要求，监测授权和收回操作以及其他数据库级权限下的操作</li></ul></li></ul><h3 id="数据加密"><a href="#数据加密" class="headerlink" title="数据加密"></a>数据加密</h3><p>加密的基本思想是根据一定的算法将原始数据-明文（plain text）变换为不可直接识别的格式-密文（cipher text）</p><p>数据加密主要包括<strong>存储加密</strong>和<strong>传输加密</strong></p><h4 id="存储加密"><a href="#存储加密" class="headerlink" title="存储加密"></a>存储加密</h4><p>对于存储加密，一般提供透明和非透明两种存储加密方式</p><ul><li>透明存储加密是内核级别加密保护方式<ul><li>透明存储加密是数据在写到磁盘时对数据进行加密，授权用户读取数据时在对其进行解密</li></ul></li><li>非透明存储加密是通过加密函数实现的</li></ul><h4 id="传输加密"><a href="#传输加密" class="headerlink" title="传输加密"></a>传输加密</h4><p>常用的传输加密方式如<strong>链路加密</strong>和<strong>端到端加密</strong></p><ul><li>链路加密对传输数据在链路层进行加密，他的传输信息由报头和报文两部分组成<ul><li>前者是路由选择信息</li><li>后者是传输的数据信息</li></ul></li><li>端到端加密对传输数据在发送端加密，接收端解密<ul><li>它只加加密报文，不加密报头</li></ul></li></ul><h4 id="SSL（Security-Socket-Layer）基于安全套接层协议"><a href="#SSL（Security-Socket-Layer）基于安全套接层协议" class="headerlink" title="SSL（Security Socket Layer）基于安全套接层协议"></a>SSL（Security Socket Layer）基于安全套接层协议</h4><h3 id="其他安全性保护"><a href="#其他安全性保护" class="headerlink" title="其他安全性保护"></a>其他安全性保护</h3><h4 id="推理控制（inference-control）"><a href="#推理控制（inference-control）" class="headerlink" title="推理控制（inference control）"></a>推理控制（inference control）</h4><ul><li>推理控制处理的是强制存取控制未解决的问题</li><li>数据库推理控制机制用来避免用户利用其能够访问的数据推知更高密级的数据</li></ul><h4 id="隐蔽信道（covert-channal）"><a href="#隐蔽信道（covert-channal）" class="headerlink" title="隐蔽信道（covert channal）"></a>隐蔽信道（covert channal）</h4><ul><li>隐蔽信道处理内容是强制存取控制未解决的问题</li></ul><h4 id="数据隐私（data-privacy）"><a href="#数据隐私（data-privacy）" class="headerlink" title="数据隐私（data privacy）"></a>数据隐私（data privacy）</h4><ul><li>数据隐私是控制不愿被他人知道或他人不便知道的个人数据的能力</li></ul><h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><p>随着数据库的发展安全越来越重要，数据库管理系统提供的安全措施主要包括</p><ul><li>用户身份鉴别</li><li>自主存取控制</li><li>强制存取控制技术</li><li>视图技术</li><li>审计技术</li><li>数据加密技术</li><li>加密传输</li></ul><h2 id="数据库完整性"><a href="#数据库完整性" class="headerlink" title="数据库完整性"></a>数据库完整性</h2><ul><li><strong>数据的完整性</strong>是指数据的正确性和相容性</li></ul><p>为了维护数据的完整性，数据库管理系统必须能够实现如下功能</p><ol><li><p><strong>提供定义完整性约束条件的约束</strong></p><ul><li><p>完整性约束条件也叫做完整性规则，是数据库中的数据必须满足的语义约束条件</p></li><li><p>sql标准使用了一系列的概念来描述完整性</p><ul><li>关系模型的实体完整性</li><li>参照完整性</li><li>用户定义完整性</li></ul></li></ul></li><li><p><strong>提供完整性检查的方法</strong></p><ul><li>数据库管理系统中检查数据是否满足完整性约束条件的机制称为<strong>完整性检查</strong></li><li>一般也就是在insert,update,delete语句执行后开始检查，检查数据是否违背了完整性约束条件</li></ul></li><li><p><strong>进行违约处理</strong></p></li></ol><p><strong>关系数据库管理系统使得完整性控制成为其核心支持的功能，从而能够为所有用户和应用提供一致的数据库完整性</strong></p><h3 id="实体完整性"><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h3><h4 id="定义实体完整性"><a href="#定义实体完整性" class="headerlink" title="定义实体完整性"></a>定义实体完整性</h4><ul><li>关系模型的实体完整性在create table 中用<code>primary key</code> 定义</li><li>对单属性的构成的码有两种说明方法<ul><li>一种是定义为列级约束条件</li><li>一种是定义为表级约束条件</li></ul></li><li>但是对于多个属性构成的码只有一种说明方法，即定义为表级约束条件</li></ul><h4 id="实体完整性检查和违约处理"><a href="#实体完整性检查和违约处理" class="headerlink" title="实体完整性检查和违约处理"></a>实体完整性检查和违约处理</h4><ul><li>检查主码值是否唯一，如果不唯一拒绝插入或修改</li><li>检查主码的各个属性是否为空，只要有一个为空拒绝插入或修改</li></ul><h3 id="参照完整性"><a href="#参照完整性" class="headerlink" title="参照完整性"></a>参照完整性</h3><h4 id="定义参照完整性"><a href="#定义参照完整性" class="headerlink" title="定义参照完整性"></a>定义参照完整性</h4><ul><li>关系模型的参照完整性在<code>create table</code>中用<code>foreion key&lt;属性名&gt;references &lt;表&gt;&lt;属性名&gt;</code>语句定义参照</li></ul><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table sc(
	sno varchar(20) not null ,
    primary key(sno),
    foreign key (sno) references student(sno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="参照完整性检查和违约处理"><a href="#参照完整性检查和违约处理" class="headerlink" title="参照完整性检查和违约处理"></a>参照完整性检查和违约处理</h4><ol><li><p>拒绝执行（no action）</p><ul><li>一般设置这个为默认策略</li></ul></li><li><p>级联操作（cascade）</p></li><li><p>设置为空值</p></li></ol><h4 id="在创建表的时候显式的说明参照策略"><a href="#在创建表的时候显式的说明参照策略" class="headerlink" title="在创建表的时候显式的说明参照策略"></a>在创建表的时候显式的说明参照策略</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table sc (
	sno varchar(9) not null,
    foreign key(sno) references student(sno) 
    	on delete cascade	-- 申明删除为级联操作
    	on	update no action -- 申明更新为拒绝执行策略
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="用户定义的完整性"><a href="#用户定义的完整性" class="headerlink" title="用户定义的完整性"></a>用户定义的完整性</h3><h4 id="属性上的约束条件"><a href="#属性上的约束条件" class="headerlink" title="属性上的约束条件"></a>属性上的约束条件</h4><h5 id="属性上约束条件的定义"><a href="#属性上约束条件的定义" class="headerlink" title="属性上约束条件的定义"></a>属性上约束条件的定义</h5><p>在<code>create table</code> 中定义属性的同时可以定义属性约束条件</p><p>列值非空（not null）</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table sc(
	sno varchar(9) not null
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>列值唯一 （unique）</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table sc(
	sno varchar(9) unique;
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>检查列值是否满足一个条件表达式（<strong>check短语</strong>）</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table sc(
	sex char(2) check(sex in ('man','woman')
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="属性上约束条件的检查和违约处理"><a href="#属性上约束条件的检查和违约处理" class="headerlink" title="属性上约束条件的检查和违约处理"></a>属性上约束条件的检查和违约处理</h5><p>当往表中插入元组或修改属性的值时，关系数据库管理员系统会检查相属性上的约束条件是否被满足，如果不满足那么条件拒绝执行。</p><h4 id="元组上的约束条件"><a href="#元组上的约束条件" class="headerlink" title="元组上的约束条件"></a>元组上的约束条件</h4><h5 id="元组上约束条件的定义"><a href="#元组上约束条件的定义" class="headerlink" title="元组上约束条件的定义"></a>元组上约束条件的定义</h5><p>在<code>create table</code> 语句中用<code>check</code>短语定义元组上的约束条件即元组级的限制。</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table student(
	sex varchar(3),
    sname char(9) not null,
    check(sex='女' or name not like 'Ms.%'
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="元组上约束条件的检查和违约处理"><a href="#元组上约束条件的检查和违约处理" class="headerlink" title="元组上约束条件的检查和违约处理"></a>元组上约束条件的检查和违约处理</h5><p>当往表中插入元组或修改属性的值时，关系数据库管理系统将检查元组上的约束条件是否被满足</p><h3 id="完整性约束命名子句"><a href="#完整性约束命名子句" class="headerlink" title="完整性约束命名子句"></a>完整性约束命名子句</h3><h4 id="完整性约束命名子句-1"><a href="#完整性约束命名子句-1" class="headerlink" title="完整性约束命名子句"></a>完整性约束命名子句</h4><p><code>constraint &lt;完整性约束条件名&gt;&lt;完整性约束条件&gt;</code></p><p>完整性约束条件 包括<code>not null</code> ,<code>unique</code>,<code>primary key</code>,<code>foreign key</code>,<code>check</code>等</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table student(

	sno int(20)
    	constraint c1 check(sno between 100 and 200),
    sname varchar(20)
    	constraint c2 not null,
    constraint studentKey primary key(sno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="修改表中的完整性限制"><a href="#修改表中的完整性限制" class="headerlink" title="修改表中的完整性限制"></a>修改表中的完整性限制</h4><p>可以使用<code>alter table</code> 语句修改表中的完整性限制</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 删除完整性限制
alter tabel student drop constraint c1;
-- 添加完整性约束
alter table student add constraint c1 check(sno between 100 and 200);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="域中的完整性限制"><a href="#域中的完整性限制" class="headerlink" title="域中的完整性限制"></a>域中的完整性限制</h3><p>sql支持域的概念，并可以用<code>create domain</code>语句建立一个域以及该域应该满足的完整性约束条件</p><ul><li>用域来定义属性的优点是<ul><li>数据库中的不同的属性可以来自同一个域，当域上的完整性与约束条件改变时，只要修改域的定义就可以了，而不需要一一修改域的各个属性</li></ul></li></ul><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-- 建立一个域并且声明一个域的取值范围
create domain sex varchar(4) check(value in ('man','women');
-- 建立一个域，并且对其中的限制命名
create domain sex varchar(4) constraint checkSex check(value in ('man','women');
-- 删除域的限制条件
alter domain sex drop constraint checkSex;
-- 在域上添加限制条件
alter domain sex add constraint checkSex check(value in('man','women');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><ul><li>在SQl中，可以使用数据定义语言中的<code>create assertion</code>语句，通过声明性断言，来指定更具一般性的约束，可以定义涉及多个表或聚集操作的比较复杂的完整性约束。</li><li>断言创建以后，任何对断言中所涉及关系的操作会出发关系数据库管理系统对断言的检查，任何使断言不为真值的操作都会被拒绝执行</li></ul><h4 id="创建断言的语句格式"><a href="#创建断言的语句格式" class="headerlink" title="创建断言的语句格式"></a>创建断言的语句格式</h4><p><code>create assertion &lt;断言名&gt;&lt;check 子句&gt;</code></p><p>每一个断言都会被赋予一个名字，并且check子句中的约束条件与where子句的条件表达式类似</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create assertion asse_sc_db_number
	check(60 &gt;=(select count(*) from cource where  course.cname ='数据库');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="删除断言的语句格式"><a href="#删除断言的语句格式" class="headerlink" title="删除断言的语句格式"></a>删除断言的语句格式</h4><p><code>drop assertion &lt;断言名&gt;</code></p><h3 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h3><h3 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h3><h1 id="设计与应用开发篇"><a href="#设计与应用开发篇" class="headerlink" title="设计与应用开发篇"></a>设计与应用开发篇</h1><h2 id="关系数据理论"><a href="#关系数据理论" class="headerlink" title="关系数据理论"></a>关系数据理论</h2><h3 id="问题提出"><a href="#问题提出" class="headerlink" title="问题提出"></a>问题提出</h3><h3 id="规范化"><a href="#规范化" class="headerlink" title="规范化"></a>规范化</h3><h3 id="数据依赖的公理系统"><a href="#数据依赖的公理系统" class="headerlink" title="数据依赖的公理系统"></a>数据依赖的公理系统</h3><h3 id="模式的分解"><a href="#模式的分解" class="headerlink" title="模式的分解"></a>模式的分解</h3><h3 id="小结-3"><a href="#小结-3" class="headerlink" title="小结"></a>小结</h3><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="数据库设计概述"><a href="#数据库设计概述" class="headerlink" title="数据库设计概述"></a>数据库设计概述</h3><p>数据库设计：对一个给定的应用环境，构造优化的数据库逻辑模式和物理结构，并据此建立数据库及其应用系统，使之能够有效地存储和管理数据，满足各种用户的应用需求，包括信息管理要求和数据操作</p><h4 id="数据库设计的特点"><a href="#数据库设计的特点" class="headerlink" title="数据库设计的特点"></a>数据库设计的特点</h4><ul><li>数据库建设的基本规律</li><li>结构设计和行为设计结合</li></ul><h4 id="数据库设计方法"><a href="#数据库设计方法" class="headerlink" title="数据库设计方法"></a>数据库设计方法</h4><ul><li>E-R图</li><li>范式（normal format）</li></ul><h4 id="数据库设计步骤"><a href="#数据库设计步骤" class="headerlink" title="数据库设计步骤"></a>数据库设计步骤</h4><ul><li>需求分析</li><li>概念设计</li><li>逻辑设计</li><li>物理设计</li><li>数据库实现</li><li>数据库运行和维护</li></ul><h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><h4 id="需求分析的任务"><a href="#需求分析的任务" class="headerlink" title="需求分析的任务"></a>需求分析的任务</h4><p>调查的重点是数据和处理，通过调查，收集和分析，获得用户对数据库的要求</p><h4 id="数据字典"><a href="#数据字典" class="headerlink" title="数据字典"></a>数据字典</h4><p>数据字典是进行详细数据收集和数据分析获得的主要成果，是关于数据库中数据的描述，即元数据，而不是数据本身。</p><blockquote><p>组成部分</p></blockquote><p>数据字典通常包括</p><ul><li>数据项</li><li>数据结构</li><li>数据流</li><li>数据结构</li><li>数据存储</li><li>处理过程</li></ul><p>其中数据项是数据的最小组成单位</p><h3 id="概念结构设计"><a href="#概念结构设计" class="headerlink" title="概念结构设计"></a>概念结构设计</h3><h4 id="概念模型-1"><a href="#概念模型-1" class="headerlink" title="概念模型"></a>概念模型</h4><blockquote><p>概念模型的主要特点</p></blockquote><ul><li>真实、充分的反映现实世界，事物和事物之间的关系</li><li>易于理解</li><li>易于更改</li><li>易于向关系，网状，层次等各种数据模型转换</li></ul><h4 id="E-R模型"><a href="#E-R模型" class="headerlink" title="E-R模型"></a>E-R模型</h4><p>知道形状对应的含义即可</p><h4 id="UML（Unit-Management-Language）"><a href="#UML（Unit-Management-Language）" class="headerlink" title="UML（Unit Management Language）"></a>UML（Unit Management Language）</h4><p>知道形状对应的含义即可</p><h4 id="概念结构设计-1"><a href="#概念结构设计-1" class="headerlink" title="概念结构设计"></a>概念结构设计</h4><blockquote><p>实体和属性的划分原则</p></blockquote><p>为了简化E-R图，现实世界的事物能作为属性的尽可能的归为属性</p><ul><li>作为属性，不能在具有需要描述的性质</li><li>属性不能于其他实体具有联系</li></ul><blockquote><p>E-R图的集成</p></blockquote><p>各个子系统的E-R图之间的冲突主要有三类：</p><ul><li>属性冲突</li><li>命名冲突</li><li>结构冲突</li></ul><blockquote><p>属性冲突</p></blockquote><ul><li>属性域冲突</li><li>属性取值单位冲突</li></ul><blockquote><p>命名冲突</p></blockquote><ul><li>同名异义</li><li>异名同义</li></ul><blockquote><p>结构冲突</p></blockquote><ul><li>同一个对象在不同应用中具有不同的抽象</li><li>同一实体在不同子系统E-R中包含的属性个数和属性排序次序不完全相同</li><li>实体间的联系不同的E-R图中为不同的类型</li></ul><h3 id="逻辑结构设计"><a href="#逻辑结构设计" class="headerlink" title="逻辑结构设计"></a>逻辑结构设计</h3><h4 id="E-R转换关系模式"><a href="#E-R转换关系模式" class="headerlink" title="E-R转换关系模式"></a>E-R转换关系模式</h4><p>自己看着转换成关系模式</p><h4 id="数据模型的优化"><a href="#数据模型的优化" class="headerlink" title="数据模型的优化"></a>数据模型的优化</h4><p><strong>通过规范化理论为指导优化关系数据模型</strong></p><ul><li>确定数据依赖</li><li>消除冗余联系</li><li>确定范式级别</li></ul><h3 id="物理结构设计"><a href="#物理结构设计" class="headerlink" title="物理结构设计"></a>物理结构设计</h3><p>数据库的设计通常分为两步</p><ul><li>确定数据库的物理结构：存取方法和数据结构</li><li>对物理结构进行评价：时空效率</li></ul><h4 id="关系模式存取方法选择"><a href="#关系模式存取方法选择" class="headerlink" title="关系模式存取方法选择"></a>关系模式存取方法选择</h4><p>常用的存取方法有</p><ul><li>索引方法</li><li>聚蔟方法</li></ul><blockquote><p>索引方法</p></blockquote><ul><li>B+树索引存取方法</li><li>hash索引存取方法的选择</li></ul><blockquote><p>聚蔟方法</p></blockquote><ul><li><em>聚蔟码</em>：属性上有相同值的元组集中存放在连续的物理块中称为聚蔟，该属性称为聚蔟码</li></ul><h3 id="数据库的实施和维护"><a href="#数据库的实施和维护" class="headerlink" title="数据库的实施和维护"></a>数据库的实施和维护</h3><blockquote><p>数据库的运行和维护</p></blockquote><ul><li>数据库的转储和恢复</li><li>数据库的安全性，完整性控制</li><li>数据库性能的监督，分析和改造</li><li>数据库的重组织与重构造<ul><li>重组织：并不修改原设计的逻辑和物理结构</li><li>重构造：部分修改数据库的模式和内模式</li></ul></li></ul><h2 id="数据库编程"><a href="#数据库编程" class="headerlink" title="数据库编程"></a>数据库编程</h2><h3 id="嵌入式SQL"><a href="#嵌入式SQL" class="headerlink" title="嵌入式SQL"></a>嵌入式SQL</h3><h3 id="过程化SQL"><a href="#过程化SQL" class="headerlink" title="过程化SQL"></a>过程化SQL</h3><h3 id="存储过程和函数"><a href="#存储过程和函数" class="headerlink" title="存储过程和函数"></a>存储过程和函数</h3><h1 id="系统篇"><a href="#系统篇" class="headerlink" title="系统篇"></a>系统篇</h1><h2 id="关系查询处理和查询优化"><a href="#关系查询处理和查询优化" class="headerlink" title="关系查询处理和查询优化"></a>关系查询处理和查询优化</h2><h2 id="数据库恢复技术"><a href="#数据库恢复技术" class="headerlink" title="数据库恢复技术"></a>数据库恢复技术</h2><h3 id="事务的基本概念"><a href="#事务的基本概念" class="headerlink" title="事务的基本概念"></a>事务的基本概念</h3><h4 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h4><ul><li>事务指用户定义的一个数据库操作序列，这些操作要么全部执行成功，要么全部不执行。</li><li>事务作为一个最小的工作单位，不可分割</li></ul><p>事务在mysql中可以由用户显式的控制</p><ul><li>COMMIT：提交事务的所有操作</li><li>RELLBACK：回滚，对数据库所有已完成的操作撤销，回滚到事务开始的状态</li></ul><h4 id="事务的ACID特性"><a href="#事务的ACID特性" class="headerlink" title="事务的ACID特性"></a>事务的ACID特性</h4><ul><li>原子性（Atomicity）<ul><li>事务是数据库的逻辑工作单位</li></ul></li><li>一致性（Consistency）<ul><li>事务执行的记过必须使数据库从一个一致性状态变到另一个一致性状态</li></ul></li><li>隔离性（Isolation）<ul><li>一个事务的执行不能被其他事务干扰</li></ul></li><li>持续性（Durability）<ul><li>一个事务一旦提交，对数据库中数据的改变就是持续不变的。</li></ul></li></ul><p>可能导致的失败因素有</p><ul><li>多个事务并行操作，不同事务的操作交叉运行</li><li>事务操作在运行过程中被强制关闭</li></ul><h3 id="故障的分类"><a href="#故障的分类" class="headerlink" title="故障的分类"></a>故障的分类</h3><h4 id="事务内部的故障"><a href="#事务内部的故障" class="headerlink" title="事务内部的故障"></a>事务内部的故障</h4><p>事务内部的故障是非预期的，不能由应用程序处理的、例如运算溢出，死锁</p><h4 id="系统故障"><a href="#系统故障" class="headerlink" title="系统故障"></a>系统故障</h4><ul><li>系统故障：造成系统停止运转的任何事件，使得系统要重新启动</li></ul><h4 id="介质故障"><a href="#介质故障" class="headerlink" title="介质故障"></a>介质故障</h4><ul><li>系统故障：软故障</li><li>介质故障：硬故障</li></ul><h4 id="计算机病毒"><a href="#计算机病毒" class="headerlink" title="计算机病毒"></a>计算机病毒</h4><ul><li>计算机病毒：是一个人为的故障或破坏，是人为研制的计算机程序</li></ul><h4 id="小结-4"><a href="#小结-4" class="headerlink" title="小结"></a>小结</h4><p>各类故障对数据库的影响有两种可能性</p><ul><li>数据库本身被破坏</li><li>数据不正确</li></ul><p>数据恢复的原理就是：冗余数据</p><h3 id="恢复的实现技术"><a href="#恢复的实现技术" class="headerlink" title="恢复的实现技术"></a>恢复的实现技术</h3><p>建立冗余数据的最常用的技术就是：</p><ul><li>数据转储</li><li>登记日志文件</li></ul><h2 id="并发控制"><a href="#并发控制" class="headerlink" title="并发控制"></a>并发控制</h2><h2 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h2></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">Author:</i></span> <span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">Zver</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">Link:</i></span> <span class="reprint-info"><a href="https://Zver-plena.github.io/2022/02/21/ji-suan-ji-ji-chu-lei/shu-ju-ku-xi-tong-gai-lun/">https://Zver-plena.github.io/2022/02/21/ji-suan-ji-ji-chu-lei/shu-ju-ku-xi-tong-gai-lun/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">Reprint policy:</i></span> <span class="reprint-info">All articles in this blog are used except for special statements <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> reprint policy. If reproduced, please indicate source <a href="/about" target="_blank">Zver</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><span class="chip bg-color">No tag</span></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="/libs/share/css/share.min.css"><div id="article-share"></div></div></div></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(/medias/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="/libs/valine/av-min.js"></script><script src="/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"EgKQH2gWMlQC81fkD1FLJOdf-gzGzoHsz",appKey:"rkutKghPIOS2I2RrGf1XdGqC",notify:!1,verify:!1,visitor:!0,avatar:"mm",pageSize:"10",lang:"en",placeholder:"just go go"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;Previous</div><div class="card"><a href="/2022/02/23/summary/acwing/lan-qiao-bei/shi-er-jie-er-chang-b-zu-zhen-ti/fu-zai-jun-heng/"><div class="card-image"><img src="/medias/featureimages/12.jpg" class="responsive-img" alt="3492. 负载均衡"> <span class="card-title">3492. 负载均衡</span></div></a><div class="card-content article-content"><div class="summary block-with-text">Where there is a will , there is a way</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2022-02-23</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/acwing/" class="post-category">acwing</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E6%A8%A1%E6%8B%9F/"><span class="chip bg-color">模拟</span></a> <a href="/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"><span class="chip bg-color">树状数组</span></a> <a href="/tags/%E5%A0%86/"><span class="chip bg-color">堆</span></a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"><span class="chip bg-color">线段树</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">Next&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2022/02/18/za-pian/mac/"><div class="card-image"><img src="/medias/featureimages/3.jpg" class="responsive-img" alt="Mac"> <span class="card-title">Mac</span></div></a><div class="card-content article-content"><div class="summary block-with-text">Where there is a will , there is a way</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2022-02-18</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Mac/" class="post-category">Mac</a></span></div></div></div></div></div></article></div><script src="/libs/codeBlock/codeBlockFuction.js"></script><script src="/libs/codeBlock/codeLang.js"></script><script src="/libs/codeBlock/codeCopy.js"></script><script src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right"><span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span></span> <span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span></span><br><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="xxx" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:xxx" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=xxx" class="tooltipped" target="_blank" data-tooltip="QQ联系我: xxx" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;Search</span> <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword" class="search-input"></div><div id="searchResult"></div></div></div><script>$(function(){!function(t,a,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),r=document.getElementById(a),n=document.getElementById(s);r.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var r=!0,n=t.title.trim().toLowerCase(),a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url;e=0===e.indexOf("/")?t.url:"/"+e;var s=-1,i=-1,l=-1;if(""!==n&&""!==a&&m.forEach(function(t,e){s=n.indexOf(t),i=a.indexOf(t),s<0&&i<0?r=!1:(i<0&&(i=0),0===e&&(l=i))}),r){f+="<li><a href='"+e+"' class='search-result-title'>"+n+"</a>";var c=t.content.trim().replace(/<[^>]+>/g,"");if(0<=l){var u=l-20,o=l+80;u<0&&(u=0),0===u&&(o=100),o>c.length&&(o=c.length);var h=c.substr(u,o);m.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+h+"...</p>"}f+="</li>"}}),f+="</ul>",n.innerHTML=f)})}})}("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script>var windowWidth=$(window).width();768<windowWidth&&document.write('<script type="text/javascript" src="/libs/others/sakura-small.js"><\/script>')</script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/assets/hk416_805.model.json"},display:{position:"right",width:300,height:350},mobile:{show:!0,react:{opacity:"0.7a"}}})</script></body></html>